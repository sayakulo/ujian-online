<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Silahkan Login</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex align-items-center justify-content-center vh-100 bg-light">

  <div class="card shadow p-4" style="width: 22rem;">
    <h1 class="h4 text-center mb-4">Ujian Online (Pre-Alpha)</h1>
    <form>
      <!-- Username -->
      <div class="mb-3">
        <label for="user" class="form-label">User Name</label>
        <input type="text" class="form-control" id="user" placeholder="masukkan id">
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label for="pass" class="form-label">Password</label>
        <input type="password" class="form-control" id="pass" placeholder="masukkan password">
      </div>

      <!-- Radio group -->
      <div class="mb-3">
        <label class="form-label">Kelas dan Jurusan</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="kdj" id="xrpl" value="X RPL">
          <label class="form-check-label" for="xrpl">X RPL</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="kdj" id="xirpl" value="XI RPL">
          <label class="form-check-label" for="xirpl">XI RPL</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="kdj" id="xiirpl" value="XII RPL">
          <label class="form-check-label" for="xiirpl">XII RPL</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="kdj" id="xakl" value="X AKL">
          <label class="form-check-label" for="xakl">X AKL</label>
        </div>
      </div>

      <!-- Button -->
      <button id="login" type="button" class="btn btn-primary w-100">Login</button>

      <!-- Error message -->
      <p id="errorMsg" class="text-danger small mt-2"></p>
    </form>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script> 
  document.addEventListener("DOMContentLoaded", () => {
  const loginBtn = document.getElementById("login");
  const user = document.getElementById("user");
  const password = document.getElementById("pass");
  const errorMsg = document.getElementById("errorMsg");

  loginBtn.addEventListener("click", (e) => {
    e.preventDefault();

    let username = user.value.trim();
    let pass = password.value.trim();

    if (username === "" || pass === "") {
      errorMsg.innerHTML = "<p>User name dan password tidak boleh kosong</p>";
      setTimeout(() => { errorMsg.innerHTML = ""; }, 3000);
      return;
    }

    // Simpan username ke localStorage
    localStorage.setItem("login", username);

    // Ambil kelas/jurusan
    const kdj = document.querySelector('input[name="kdj"]:checked');
    if (kdj) {
      localStorage.setItem("kdj", kdj.value);

      // Tentukan file soal sesuai kelas
      let soalPage = "";
      switch (kdj.value) {
        case "X RPL":
          soalPage = "soal_x_rpl.html";
          break;
        case "XI RPL":
          soalPage = "soal_xi_rpl.html";
          break;
        case "XII RPL":
          soalPage = "soal_xii_rpl.html";
          break;
        case "X AKL":
          soalPage = "soal_x_akl.html";
          break;
        default:
          soalPage = "soal.html"; // fallback
      }

      // Arahkan ke halaman soal
      window.location.href = soalPage;

    } else {
      errorMsg.innerHTML = "<p>Silakan pilih kelas/jurusan dulu</p>";
      setTimeout(() => { errorMsg.innerHTML = ""; }, 3000);
    }
  });
});
</script>
</body>
</html>
